# ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Superadmin –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

**–î–∞—Ç–∞:** 25 –Ω–æ—è–±—Ä—è 2025
**–í–µ—Ä—Å–∏—è:** 2.3.0
**–ú–∏–≥—Ä–∞—Ü–∏—è:** 010_superadmin_setup

---

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –°–æ–∑–¥–∞–Ω –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç credentials

**Production Credentials:**
```
User ID:           superadmin
Email:             admin@magellania.com
Password:          magellania2025
Username:          superadmin
Role:              admin
Organization ID:   magellania-org
Organization:      Magellania
```

### 2. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –¥–∞–Ω–Ω—ã–µ

‚úÖ **9 —Å–º–µ—Ç** ‚Üí `magellania-org` / `superadmin`
‚úÖ **1 –∫–∞—Ç–∞–ª–æ–≥** ‚Üí `magellania-org` / `superadmin`
‚úÖ **–í—Å–µ backups** ‚Üí `magellania-org` / `superadmin`
‚úÖ **–í—Å–µ settings** ‚Üí `magellania-org`

### 3. –£–¥–∞–ª–µ–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã

‚ùå `admin-user-id` / `default-org`
‚ùå `user_default` / `org_default`
‚ùå `guest-user-001`

### 4. –û–±–Ω–æ–≤–ª—ë–Ω –∫–æ–¥

- `storage/SQLiteStorage.js` ‚Üí defaults –Ω–∞ `superadmin` / `magellania-org`
- `apiClient.js` ‚Üí —É–±—Ä–∞–Ω guest token, —Ç–æ–ª—å–∫–æ JWT
- `CLAUDE.md` ‚Üí –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è Production Credentials
- `API_V1_LOGIN_FIX.md` ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω—ã credentials
- `db/migrations/010_superadmin_setup.sql` ‚Üí –º–∏–≥—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (–í–ê–ñ–ù–û!)

### –®–∞–≥ 1: –ó–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
http://localhost:4000/login
```

**–í–≤–µ–¥–∏—Ç–µ credentials:**
- Email: `admin@magellania.com`
- Password: `magellania2025`

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å–º–µ—Ç

–ü–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É:
```
http://localhost:4000/
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å **9 –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–º–µ—Ç** –≤ —Å–ø–∏—Å–∫–µ! üéâ

### –®–∞–≥ 3: –†–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ–¥ superadmin

–° —ç—Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞:
- ‚úÖ –í–°–ï —Å–º–µ—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ `magellania-org`
- ‚úÖ –í–°–ï –∫–∞—Ç–∞–ª–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `magellania-org`
- ‚úÖ –í–°–ï –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ–¥ `superadmin`
- ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å guest/test –∞–∫–∫–∞—É–Ω—Ç—ã

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ë–î:

```bash
sqlite3 db/quotes.db "
SELECT
  'Estimates:' as entity, COUNT(*) as total, organization_id
FROM estimates GROUP BY organization_id
UNION ALL
SELECT
  'Catalogs:', COUNT(*), organization_id
FROM catalogs GROUP BY organization_id;
"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Estimates:|9|magellania-org
Catalogs:|1|magellania-org
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å users:

```bash
sqlite3 db/quotes.db "
SELECT id, email, organization_id FROM users;
"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
superadmin|admin@magellania.com|magellania-org
```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ü–†–ê–í–ò–õ–ê

### ‚úÖ –î–ï–õ–ê–¢–¨:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¢–û–õ–¨–ö–û `superadmin` credentials
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –í–°–ï –¥–∞–Ω–Ω—ã–µ –≤ `magellania-org`
- –û–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:
  - `CLAUDE.md` - Production Credentials
  - `API_V1_LOGIN_FIX.md` - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
  - `db/migrations/010_superadmin_setup.sql` - –¥–µ—Ç–∞–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

### ‚ùå –ù–ï –î–ï–õ–ê–¢–¨:
- –ù–ï —Å–æ–∑–¥–∞–≤–∞—Ç—å guest/test/demo –∞–∫–∫–∞—É–Ω—Ç—ã
- –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ org ID (`default-org`, `org_default`)
- –ù–ï –∏–∑–º–µ–Ω—è—Ç—å `defaultUserId` / `defaultOrganizationId` –≤ SQLiteStorage

### üîÆ Multi-tenancy:
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ multi-tenancy **–û–°–¢–ê–Å–¢–°–Ø –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô**
- –°–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–¥–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è (`magellania-org`)
- –í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –ö–æ–¥ –≥–æ—Ç–æ–≤ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –≤–∏–∂—É –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–º–µ—Ç—ã

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∑–∞–ª–æ–≥–∏–Ω–∏–ª–∏—Å—å –ø–æ–¥ `admin@magellania.com`
2. –û—á–∏—Å—Ç–∏—Ç–µ localStorage: `localStorage.clear()` –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (Ctrl+Shift+R)

### –ü—Ä–æ–±–ª–µ–º–∞: 401 Unauthorized

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–π —Ç–æ–∫–µ–Ω: `localStorage.removeItem('jwt_token')`
2. –ó–∞–ª–æ–≥–∏–Ω—å—Ç–µ—Å—å –∑–∞–Ω–æ–≤–æ –Ω–∞ `/login`

### –ü—Ä–æ–±–ª–µ–º–∞: –ò–º–ø–æ—Ä—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã –ø–æ–¥ superadmin
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞ –æ—à–∏–±–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ server.log: `tail -f server.log`

---

## üìù Next Steps

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤ production:

1. **–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å superadmin**
   ```bash
   # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ bcrypt –¥–ª—è —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
   # –û–±–Ω–æ–≤–∏—Ç–µ –≤ –ë–î: UPDATE users SET password_hash = ? WHERE id = 'superadmin'
   ```

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å JWT_SECRET**
   ```bash
   # –í .env –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   JWT_SECRET=your-very-secure-random-secret-key-here
   ```

3. **–í–∫–ª—é—á–∏—Ç—å HTTPS**
   ```bash
   # –ù–∞—Å—Ç—Ä–æ–π—Ç–µ reverse proxy (nginx) —Å SSL
   ```

---

## ‚ú® –ò—Ç–æ–≥–æ

**–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞:**
- ‚ùå –ë—ã–ª–æ: –°–º–µ—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ `org_default`, –Ω–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–ª—è `default-org`
- ‚úÖ –°—Ç–∞–ª–æ: –í–°–ï –¥–∞–Ω–Ω—ã–µ –≤ `magellania-org`, –µ–¥–∏–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è

**–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞:**
- ‚úÖ –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `superadmin`
- ‚úÖ –û–¥–Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è: `magellania-org`
- ‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- ‚úÖ Multi-tenancy –≥–æ—Ç–æ–≤ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é

**–¢–µ–ø–µ—Ä—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–º–µ—Ç—ã –ø–æ—è–≤—è—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ!** üöÄ

---

**–ê–≤—Ç–æ—Ä:** Claude Code
**–î–∞—Ç–∞:** 25 –Ω–æ—è–±—Ä—è 2025
